# [Basic SSRF against another back-end system](https://portswigger.net/web-security/ssrf/lab-basic-ssrf-against-backend-system)

- **ุงูุฏุฑุฌุฉ:** APPRENTICE
    
- **ุงูุญุงูุฉ:** Solved โ
    
- **ุงููุฏู:** ุนูู Scan ููุดุจูุฉ ุงูุฏุงุฎููุฉ `192.168.0.X` ุนูู ุจูุฑุช `8080` ูููุตูู ูููุญุฉ ุงูุชุญูู ูุญุฐู `carlos`.
    

---

## ๐ ุงูุงุณุชูุดุงู (Exploration)

ูู ูุฐุง ุงููุงุจุ ููุฒุฉ **Check Stock** ุชุฑุณู ุทูุจุงู ููุธุงู ุฎููู (Back-end). ุงูุฑุงุจุท ุงูุฃุตูู ูุงู ูุดูุฑ ุฅูู ุนููุงู IP ูุนููุ ููุง ููุญู ุจุฃู ุงูุณูุฑูุฑ ููููู ุงูุชูุงุตู ูุน ุฃุฌูุฒุฉ ุฃุฎุฑู ุฏุงุฎู ุงูุดุจูุฉ ุงููุญููุฉ.

ุงูุทูุจ ุงูุฃุตูู:

HTTP

```
POST /product/stock HTTP/1.1
...
stockApi=http://192.168.0.1:8080/product/stock/check?productId=1
```

---

## ๐๏ธ ุงูุงุณุชุบูุงู (Exploitation)

ุจูุง ุฃููุง ูุง ูุนุฑู ุฑูู ุงูุฌูุงุฒ (IP) ุงูุฐู ูุญุชูู ุนูู ููุญุฉ ุงูุชุญููุ ุงุณุชุฎุฏููุง **Burp Intruder** ูุนูู Scan ุนูู ุงููุทุงู (Range) ูู `1` ุฅูู `255`.

### ุฎุทูุงุช ุงูุญู:

1. ุฃุฑุณูุช ุงูุทูุจ ุฅูู **Intruder**.
    
2. ุญุฏุฏุช ููุงู ุงูู Payload ูู ุขุฎุฑ ุฑูู ูู ุงูู IP:
    
    stockApi=http://192.168.0.ยง1ยง:8080/admin
    
3. ุถุจุทุช ุงูู Payload ููุฌุฑุจ ุงูุฃุฑูุงู ูู `1` ุฅูู `255`.
    
4. **ุชุญููู ุงููุชุงุฆุฌ:** ูุฌุฏุช ุฃู ุงูุฌูุงุฒ ุฑูู `127` ุฃุนุทู ุงุณุชุฌุงุจุฉ `200 OK` ุจูููุง ุงูุจุงูู ุฃุนุทู `500`.
    

### ุชูููุฐ ุงูุญุฐู:

ุจุนุฏ ุงูุชุดุงู ุงูู IP ุงูุตุญูุญ (192.168.0.127)ุ ููุช ุจุชุนุฏูู ุงูุทูุจ ูุญุฐู ุงููุณุชุฎุฏู ููุงุฆูุงู:

stockApi=http://192.168.0.127:8080/admin/delete?username=carlos

---

## ๐ฏ ุงููุชูุฌุฉ (Result)

- **IP ุงูููุชุดู:** `192.168.0.127`
    
- **ุงูุญุงูุฉ:** ุชู ุญุฐู ุงููุณุชุฎุฏู `carlos` ุจูุฌุงุญ ูุญู ุงููุงุจ.
    

---

### ๐ก ูุนูููุฉ ุฅุถุงููุฉ ููู:

ูู ุจูุฆุฉ ุงูุดุบู ุงูุญููููุฉุ ุงูู Scan ุฏู ูููู ูุชูุดู ุจุณุฑุนุฉ ูู ููู **IDS/IPS** (ุฃูุธูุฉ ุญูุงูุฉ). ุนูุดุงู ูุฏุฉ ุจูุญุงูู ุฏุงููุงู ูููู ูุงุฏููู ูู ุงูู Intruder ููููู ุงูู Threads (ุงูุณุฑุนุฉ) ุฒู ูุง ุงุชุนูููุง ูู ุงูู Resource Pool.

**ุชุญุจ ุงููุฑุฉ ุงูุฌุงูุฉ ุฃุดุฑุญ ูู ุฅุฒุงู ุชุนูู SSRF ูู ููู Filter (ุญูุงูุฉ) ุจูููุนู ุชูุชุจ 127.0.0.1 ุฃู localhostุ**