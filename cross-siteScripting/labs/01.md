## [Reflected XSS into HTML Context with Nothing Encoded](https://portswigger.net/web-security/cross-site-scripting/reflected/lab-html-context-nothing-encoded)

## 1. فكرة اللاب

يوضح اللاب وجود ثغرة **Reflected XSS** داخل **HTML context** بدون أي نوع من **encoding**.  
النقطة الأساسية هي أن مدخلات المستخدم تُعرض مباشرة داخل الصفحة بدون فلترة.

---

## 2. ملاحظة الثغرة

عند كتابة أي نص في صندوق البحث، يتم عرضه كما هو داخل الصفحة.  
عند تجربة الرمز التالي:

```
">
```

ظهر في الصفحة كما هو، وهذا دليل على وجود **injection point** مباشر.

---

## 3. الاستغلال

بعد التأكد من أن المدخلات تُعرض بدون ترميز، تم تجربة **payload** بسيط لتشغيل JavaScript:

```html
<script>alert(1)</script>
```

بمجرد إدخاله في خانة البحث، تم تنفيذ الـ alert، وبالتالي تم حل اللاب.

---

## 4. شرح مختصر

- التطبيق يعرض قيمة **search parameter** داخل HTML بدون فلترة.
    
- أي كود JavaScript يُحقن في المدخلات يتم تنفيذه مباشرة في المتصفح.
    
- هذا النوع يسمى **Reflected XSS** لأنه يتم تنفيذه نتيجة استجابة مباشرة من السيرفر اعتمادًا على المدخل.
    

---

## 5. أمثلة أخرى للاستغلال

### 1. حقن في نفس الـ HTML context

```html
<img src=x onerror=alert(1)>
```

### 2. استخدام event handlers

```html
<div onmouseover="alert('XSS')">Hover here</div>
```

### 3. كسر السياق ثم حقن

إذا كان البحث داخل attribute، قد تحتاج إلى كسر الاقتباس:

```html
" autofocus onfocus=alert(1) x="
```

---

